@{
    ViewBag.Title = "CompanyView";
    Layout = Request.IsAjaxRequest() ? null : "~/Views/Shared/_HomeLayout.cshtml";
}

<div class="row">
    <div class="col-md-12">
        <input type="button" id="btnAddSection" value="Add" class="btn custom-button btnRight marginbt7"
               data-toggle="modal" data-target="#AddTxSection">
    </div>
    <div class="col-md-12 table-responsive" id="dvSection">


    </div>
    <div id="AddTxSection" class="modal fade" role="dialog" aria-hidden="true" data-backdrop="static"
         data-keyboard="false">
        <form id="frmTxSection" data-toggle="validator" role="form">
            <div class="modal-dialog">
                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">
                            &times;
                        </button>
                        <h4 class="modal-title" id="H4">
                            Add/Edit Section
                        </h4>
                    </div>
                    <div class="modal-body">
                        <div class="form-horizontal">
                            <div class="form-group">
                                <label class="control-label col-md-4">
                                    Section Name <label style="color:red;font-size: 13px">*</label>
                                </label>
                                <div class="col-md-7">
                                    <input type="text" id="txtTxSecName" class="form-control" placeholder="Enter the Category Name"
                                           maxlength="100" autofocus required />
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-md-4">
                                    Display As <label style="color:red;font-size: 13px">*</label>
                                </label>
                                <div class="col-md-7">
                                    <input type="text" id="txtSectionDisplayAs" class="form-control" placeholder="Enter the Category Name"
                                           maxlength="100" required />
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-md-4">
                                   Limit <label style="color:red;font-size: 13px">*</label>
                                </label>
                                <div class="col-md-7">
                                    <input type="text" id="txtSectionLimit" class="form-control" placeholder="Enter the Category Name"
                                           maxlength="20" required />
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-md-4">
                                    Exemption Type <label style="color:red;font-size: 13px">*</label>
                                </label>
                                <div class="col-md-7">
                                    <select class="form-control" id="ddSecExemptionType" required>
                                        <option value="1">Yearly</option>
                                        <option value="2">Monthly</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-md-4">
                                    Gross Deductable
                                </label>
                                <div class="col-md-7">
                                    <input type="checkbox" id="chkSecGrossDeductable" />
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-md-4">
                                    Document Required
                                </label>
                                <div class="col-md-7">
                                    <input type="checkbox" id="chkSecDocumentReq" />
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-md-4">
                                    Approvel Required
                                </label>
                                <div class="col-md-7">
                                    <input type="checkbox" id="chkSecApprovelReq" />
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="submit" id="btntxSectionSave" class="btn custom-button">
                            Save
                        </button>
                        <button type="button" class="btn custom-button" data-dismiss="modal">
                            Close
                        </button>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>

@section Scripts
{
    <script src="~/Js/Tax/txSection.js"></script>
}


@*<div class="form-horizontal" id="dvConditionalFormula">
        <div class="form-group">
            <label class="control-label col-md-4">
                Formula
            </label>
            <div class="col-md-7">
                <input type="text" id="txtIfFormula" class="form-control" readonly="readonly" placeholder="Enter the Condititon" />
            </div>
        </div>
        <div class="form-group">
            <div class="panel panel-primary">
                <div class="panel-heading">
                    If Condition

                </div>
                <div class="panel-body">
                    <div class="col-md-12">

                        <button id="btnActAdd" class="btn btn-primary" onclick="getFocusedElement();"> Edit</button>
                        <button id="btnIfAdd" class="btn btn-primary" onclick="editIfElse();"> Edit</button>
                        <button id="btnIfAdd" class="btn btn-primary " onclick="buildIfElseFormula();"> View Formula</button>
                        <button id="btnIfAdd" class="btn btn-primary btnRight" onclick="BuildIfElseSegment(false);"> Add</button>


                    </div>
                    <div class="row" id="dvIfElseCondition">

                    </div>
                </div>
            </div>

        </div>

    </div>*@

@*<a href="" class="fileDownloadSimpleRichExperience">download a file</a>
    <a href="" class="fileDownloadForm">download a file post</a>
    <a href="" class="fileDownloadPromise">download a file Promise</a>
    <div id="preparing-file-modal" title="Preparing report..." style="display: none;">
        We are preparing your report, please wait...

        <div class="ui-progressbar-value ui-corner-left ui-corner-right" style="width: 100%; height:22px; margin-top: 20px;"></div>
    </div>

    <div id="error-modal" title="Error" style="display: none;">
        There was a problem generating your report, please try again.
    </div>


    @section Scripts
    {
        <script>

            $(document).on("click", "a.fileDownloadSimpleRichExperience", function () {
                //$(this).prop('href')
                $.fileDownload('DownLoad/DownloadReport?id=1', {
                    preparingMessageHtml: "We are preparing your report, please wait...",
                    failMessageHtml: "There was a problem generating your report, please try again."
                });
                return false; //this is critical to stop the click event which will trigger a normal file download!
            });
            $(document).on("click", "a.fileDownloadForm", function (e) {
                $app.showDownloadProgressModel();
                $.fileDownload('DownLoad/DownloadReportPost', {
                    //  preparingMessageHtml: "We are preparing your report, please wait...",
                    // failMessageHtml: "There was a problem generating your report, please try again.",
                    httpMethod: "POST",
                    data: { 'foo': 1 }//$(this).serialize()
                   , successCallback: function (url) {
                       $app.hideProgressModel();
                   },
                    failCallback: function (responseHtml, url) {
                        $app.hideProgressModel();

                    }
                });
                e.preventDefault(); //otherwise a normal form submit would occur
                return false;
            });
            $(document).on("click", "a.fileDownloadPromise", function () {
                $.fileDownload('DownLoad/DownloadReport?id=1')
                    .done(function () { alert('File download a success!'); })
                    .fail(function () { alert('File download failed!'); });

                return false; //this is critical to stop the click event which will trigger a normal file download
            });

        </script>
        <script src="~/assets/plugins/jquey-fileDownloader/jquery.fileDownload.js"></script>

    }*@
