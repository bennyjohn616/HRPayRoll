@{
    ViewBag.Title = "Salary summary";
    Layout = Request.IsAjaxRequest() ? null : "~/Views/Shared/_HomeLayout.cshtml";
}
<div class="form-horizontal">

    <input type="button" id="btnSalSummaryView" value="View" onclick="$salarysummary.ViewSalarySummary()" class="btn custom-button ">
    <input type="button" id="btnSelectComponents" value="Select Components" class="btn custom-button " data-toggle="modal" data-target="#showComponents">
    <div class="tab-content" id="tabcontent">
        <div id="salsummaryView">
            <div class="row">

                <div class="col-md-12">
                    <div class="col-md-6">


                        <div class="form-group">
                            <label class="control-label col-md-2">
                                From
                            </label>
                            <div class="col-md-5">
                                <select id="sltSMonth" class="form-control">
                                    <option value="1">January</option>
                                    <option value="2">February</option>
                                    <option value="3">March</option>
                                    <option value="4">April</option>
                                    <option value="5">May</option>
                                    <option value="6">June</option>
                                    <option value="7">July</option>
                                    <option value="8">August</option>
                                    <option value="9">September</option>
                                    <option value="10">October</option>
                                    <option value="11">November</option>
                                    <option value="12">December</option>
                                </select>
                            </div>


                            <div class="col-md-4">
                                <input id="sltSYear" onkeypress="return $validator.IsNumeric(event, 'sltSYear')" maxlength="4" min="4" />
                            </div>
                        </div>
                    </div>

                    <div class="col-md-6">


                        <div class="form-group">
                            <label class="control-label col-md-2">
                                To
                            </label>
                            <div class="col-md-5">
                                <select id="sltNMonth" class="form-control">
                                    <option value="1">January</option>
                                    <option value="2">February</option>
                                    <option value="3">March</option>
                                    <option value="4">April</option>
                                    <option value="5">May</option>
                                    <option value="6">June</option>
                                    <option value="7">July</option>
                                    <option value="8">August</option>
                                    <option value="9">September</option>
                                    <option value="10">October</option>
                                    <option value="11">November</option>
                                    <option value="12">December</option>
                                </select>
                            </div>


                            <div class="col-md-4">
                                <input id="sltNYear" onkeypress="return $validator.IsNumeric(event,'sltNYear')" maxlength="4" min="4" />

                            </div>
                        </div>



                    </div>
                </div>
                <div class="col-md-12">

                    <div class="col-md-6">
                        <div class="form-group">
                            <label class="control-label col-md-2">
                                Select Category
                            </label>
                            <div class="col-md-5">
                                <select id="sltCategory" class="form-control" autofocus></select>
                            </div>
                            <div class="col-md-4">

                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="nodisp" id="dvemp">
                            <div class="form-group">
                                <label class="control-label col-md-4">
                                    Employee Code
                                </label>
                                <div class="col-md-6">
                                    <select id="sltEmployeelist" class="form-control"></select>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="showComponents" class="modal fade" role="dialog" aria-hidden="true" data-backdrop="static" data-keyboard="false">
        <div class="modal-dialog">
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">
                        &times;
                    </button>
                    <h4 class="modal-title" id="H4">
                        Salary summary components
                    </h4>
                </div>
                <div class="modal-body">
                    <div class="col-md-12">
                        <div class="col-md-6">
                            <div class="" id="dvDwEarningsTable">

                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="" id="dvDwDeductionTable">

                            </div>
                        </div>
                    </div>

                </div>
                <div class="modal-footer">
                    <button type="submit" id="btnsaveComp" class="btn custom-button" onclick="$salarysummary.viewcomponents()" data-dismiss="modal">
                        Save
                    </button>
                    <button type="button" class="btn custom-button" data-dismiss="modal">
                        Close
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-12">
        <div class="form-group">
            <div id="tabletds" class="table-responsive col-md-12">

            </div>

        </div>
    </div>
</div>
<script src="~/js/Company/CompanyCom.js"></script>
<script src="~/Js/DataWizard/SalarySummary.js"></script>
<script src="~/Js/DataWizard/Payslipsetting.js"></script>
<script>
    $companyCom.loadCategory({ id: 'sltCategory' });
      $dwEarnings.designForm('dvDwEarningsTable')
    $dwDed.designForm('dvDwDeductionTable')
   
    $("#sltCategory").change(function () {
        debugger;
        if ($("#sltCategory").val() == "00000000-0000-0000-0000-000000000000") {
            $("#dvemp").addClass('nodisp');
        }
        else {
            $companyCom.loadSelectiveEmployee({ id: 'sltEmployeelist', condi: 'Category.' + $("#sltCategory").val() });
            $("#dvemp").removeClass('nodisp');
        }
    });
    $('#showComponents').on('shown.bs.modal', function () {
       
        $dwEarnings.loadComponent();

        $dwDed.loadComponent()
    });
</script>

<style>
    .modal-dialog{
        width:80%;
    }
</style>